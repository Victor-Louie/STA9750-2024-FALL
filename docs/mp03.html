<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mini Project #3 – STA 9750 2024 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 2024 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini Project #3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'sf' was built under R version 4.4.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'here' was built under R version 4.4.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file paths</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>president_data_path <span class="ot">&lt;-</span> <span class="st">"./1976-2020-president.csv"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>house_data_path <span class="ot">&lt;-</span> <span class="st">"./1976-2022-house.csv"</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the datasets</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>president_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(president_data_path) </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>ecv_president_data <span class="ot">&lt;-</span> president_data <span class="sc">|&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2000</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, state_po, candidate, candidatevotes) <span class="sc">|&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">majority_votes =</span> <span class="fu">max</span>(candidatevotes)) <span class="sc">|&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidatevotes <span class="sc">==</span> majority_votes) <span class="sc">|&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, state_po, candidate)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>house_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(house_data_path) </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>ecv_house_data <span class="ot">&lt;-</span> house_data <span class="sc">|&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2000</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, district) <span class="sc">|&gt;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">electoral_votes =</span> <span class="fu">n_distinct</span>(district)<span class="sc">+</span><span class="dv">2</span>)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>ecv_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(ecv_president_data, ecv_house_data, <span class="at">by =</span> <span class="st">'state'</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">tolower</span>(state))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The previous code will download, clean, and join the table loads presidential and House election data for the year 2000. Filters the winning candidate in each state and calculates the number of electoral votes per state. It then combines this information into a single dataset, which includes the state, the winner of the presidential election, and the total electoral votes for that state.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">"data/shapefiles"</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>shapefile_dir <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"data/shapefiles"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(shapefile_dir, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>base_url <span class="ot">&lt;-</span> <span class="st">"https://cdmaps.polisci.ucla.edu/shp/"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>download_shapefiles <span class="ot">&lt;-</span> <span class="cf">function</span>(start_session, end_session, base_url, save_dir) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (session <span class="cf">in</span> start_session<span class="sc">:</span>end_session) {</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    file_name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"districts"</span>, <span class="fu">sprintf</span>(<span class="st">"%03d"</span>, session), <span class="st">".zip"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, file_name)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    destfile <span class="ot">&lt;-</span> <span class="fu">file.path</span>(save_dir, file_name)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(destfile)) {</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GET</span>(url, <span class="fu">write_disk</span>(destfile, <span class="at">overwrite =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Downloaded:"</span>, file_name))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Failed to download:"</span>, file_name, <span class="st">"with error:"</span>, e<span class="sc">$</span>message))</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"File already exists:"</span>, file_name))</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="fu">download_shapefiles</span>(<span class="dv">93</span>, <span class="dv">112</span>, base_url, shapefile_dir)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>download_shapefiles_modern <span class="ot">&lt;-</span> <span class="cf">function</span>(start_year, end_year, base_url, save_dir) {</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (year <span class="cf">in</span> <span class="fu">seq</span>(start_year, end_year, <span class="at">by =</span> <span class="dv">2</span>)) {  <span class="co"># Congress is updated every two years</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    file_name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"cb_"</span>, year, <span class="st">"_us_cd116_500k.zip"</span>)  <span class="co"># Adjust naming as per Census format</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, file_name)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    destfile <span class="ot">&lt;-</span> <span class="fu">file.path</span>(save_dir, file_name)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(destfile)) {</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">GET</span>(url, <span class="fu">write_disk</span>(destfile, <span class="at">overwrite =</span> <span class="cn">TRUE</span>))</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Downloaded:"</span>, file_name))</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"Failed to download:"</span>, file_name, <span class="st">"with error:"</span>, e<span class="sc">$</span>message))</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="fu">paste</span>(<span class="st">"File already exists:"</span>, file_name))</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="fu">download_shapefiles_modern</span>(<span class="dv">2014</span>, <span class="dv">2022</span>, base_url, shapefile_dir)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code will automatically download shape zip files and ensures that the files already exist - can only be downloaded once. The first function handles older data (sessions 93-112), while the second function handles modern data (2014-2022). The files contains a systematic and interpretable naming convention.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Task 3 Part 1: 3.1 Which states have gained and lost the most seats in the US House of Representatives between 1976 and 2022?</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>house_seats <span class="ot">&lt;-</span> house_data <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(year, state, district) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">seat_count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>seat_changes <span class="ot">&lt;-</span> house_seats <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> seat_count)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate seat change between 1976 and 2022</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>seat_changes <span class="ot">&lt;-</span> seat_changes <span class="sc">|&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">seat_change =</span> <span class="st">`</span><span class="at">2022</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">1976</span><span class="st">`</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Separate states with the highest seat changes: gained/lost</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>top_gained <span class="ot">&lt;-</span> <span class="fu">top_n</span>(seat_changes, <span class="dv">5</span>, seat_change)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>top_lost <span class="ot">&lt;-</span> <span class="fu">top_n</span>(seat_changes, <span class="sc">-</span><span class="dv">5</span>, seat_change)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5: Plot for top gained seats</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>gained_seat_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_gained, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(state, seat_change), <span class="at">y =</span> seat_change, <span class="at">fill =</span> seat_change)) <span class="sc">+</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 5 States with Most Gained Seats (1976-2022)"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"State"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Seats Gained"</span>) <span class="sc">+</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"lightblue"</span>, <span class="at">high =</span> <span class="st">"darkblue"</span>) <span class="sc">+</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 6: Plot for top lost seats</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>lost_seat_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(top_lost, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(state, seat_change), <span class="at">y =</span> seat_change, <span class="at">fill =</span> <span class="sc">-</span>seat_change)) <span class="sc">+</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 5 States with Most Lost Seats (1976-2022)"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"State"</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Seats Lost"</span>) <span class="sc">+</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"pink"</span>, <span class="at">high =</span> <span class="st">"darkred"</span>) <span class="sc">+</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The analysis calculates changes in U.S. House seats by state from 1976 to 2022, identifying the top 5 states that gained the most seats and the top 5 that lost the most.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(gained_seat_plot, lost_seat_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
[[2]]</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here displays the two bar charts which visually display these states: blue for gains and red for losses. This provides a clear view of shifts in representation over time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fusion_analysis <span class="ot">&lt;-</span> house_data <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_major_party =</span> party <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"DEMOCRAT"</span>, <span class="st">"REPUBLICAN"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, district, candidate) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes_all_lines =</span> <span class="fu">sum</span>(candidatevotes),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">major_party_votes =</span> <span class="fu">sum</span>(candidatevotes[is_major_party]),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>top_with_fusion_all_time <span class="ot">&lt;-</span> fusion_analysis <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, district) <span class="sc">|&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_votes_all_lines <span class="sc">==</span> <span class="fu">max</span>(total_votes_all_lines)) <span class="sc">|&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, district, candidate, total_votes_all_lines)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_with_fusion_all_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,220 × 4
# Groups:   year, district [1,220]
    year district candidate          total_votes_all_lines
   &lt;int&gt;    &lt;int&gt; &lt;chr&gt;                              &lt;int&gt;
 1  1976        0 MARK ANDREWS                      181018
 2  1976        1 MANUEL LUJAN JR                   162587
 3  1976        2 AL ULLMAN                         173313
 4  1976        3 JAMES M COLLINS                   171343
 5  1976        4 CLEMENT J ZABLOCKI                172166
 6  1976        5 RONALD A SARASIN                  157009
 7  1976        6 C W BILL YOUNG                    151371
 8  1976        7 BILL ARCHER                       193127
 9  1976        8 JAMES L OBERSTAR                  206755
10  1976        9 ROBERT W KASTEN JR                163791
# ℹ 1,210 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>top_without_fusion_all_time <span class="ot">&lt;-</span> fusion_analysis <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, district) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(major_party_votes <span class="sc">==</span> <span class="fu">max</span>(major_party_votes)) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, district, candidate, major_party_votes)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_without_fusion_all_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,220 × 4
# Groups:   year, district [1,220]
    year district candidate          major_party_votes
   &lt;int&gt;    &lt;int&gt; &lt;chr&gt;                          &lt;int&gt;
 1  1976        0 MARK ANDREWS                  181018
 2  1976        1 MANUEL LUJAN JR               162587
 3  1976        2 AL ULLMAN                     173313
 4  1976        3 JAMES M COLLINS               171343
 5  1976        4 CLEMENT J ZABLOCKI            172166
 6  1976        5 RONALD A SARASIN              157009
 7  1976        6 C W BILL YOUNG                151371
 8  1976        7 BILL ARCHER                   193127
 9  1976        8 JAMES L OBERSTAR              206755
10  1976        9 ROBERT W KASTEN JR            163791
# ℹ 1,210 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>election_outcome_comparison <span class="ot">&lt;-</span> top_with_fusion_all_time <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(top_without_fusion_all_time, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"district"</span>), <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"_fusion"</span>, <span class="st">"_nonfusion"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(candidate_fusion <span class="sc">!=</span> candidate_nonfusion) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, district, candidate_fusion, <span class="at">fusion_votes =</span> total_votes_all_lines, candidate_nonfusion, <span class="at">nonfusion_votes =</span> major_party_votes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code displays any elections in our data where the election would have had a different outcome if the “fusion” system was not used and candidates only received the votes their received from their “major party line” (Democrat or Republican) and not their total number of votes across all lines. It starts by sorting candidates into the two major parties. Then, it identifies the top candidates under both scenarios, with the fusion and without, highlighting cases where the fusion system led to a different winner by listing the candidates and vote counts from each scenario.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate presidential votes </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>presidential_party_votes <span class="ot">&lt;-</span> president_data <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(office <span class="sc">==</span> <span class="st">"US PRESIDENT"</span>, year <span class="sc">&gt;=</span> <span class="dv">1976</span>, year <span class="sc">&lt;=</span> <span class="dv">2012</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">president_votes =</span> <span class="fu">sum</span>(candidatevotes), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate congressional votes </span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>congressional_party_votes <span class="ot">&lt;-</span> house_data <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(office <span class="sc">==</span> <span class="st">"US HOUSE"</span>, year <span class="sc">&gt;=</span> <span class="dv">1976</span>, year <span class="sc">&lt;=</span> <span class="dv">2012</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">congressional_votes =</span> <span class="fu">sum</span>(candidatevotes), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the two datasets</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>merged_votes <span class="ot">&lt;-</span> presidential_party_votes <span class="sc">|&gt;</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(congressional_party_votes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"state"</span>))</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the difference between presidential and congressional votes</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>state_votes_long <span class="ot">&lt;-</span> merged_votes <span class="sc">|&gt;</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(president_votes, congressional_votes), </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"vote_type"</span>, </span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"votes"</span>)</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Select top 15 states by total votes</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>top_15_states <span class="ot">&lt;-</span> state_votes_long <span class="sc">|&gt;</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_votes =</span> <span class="fu">sum</span>(votes)) <span class="sc">|&gt;</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_votes)) <span class="sc">|&gt;</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">15</span>)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter data for top 15 states</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>top_15_votes_data <span class="ot">&lt;-</span> state_votes_long <span class="sc">|&gt;</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">%in%</span> top_15_states<span class="sc">$</span>state)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the top 15 states with a clean y-axis scale</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_15_votes_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(state, <span class="sc">-</span>votes), <span class="at">y =</span> votes, <span class="at">fill =</span> vote_type)) <span class="sc">+</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 15 States by Total Votes: Presidential vs. Congressional (1976 - 2012)"</span>,</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"States"</span>,</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Votes"</span>,</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Vote Type"</span>) <span class="sc">+</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This code compares the total vote of presidential and congressional candidates by the top 15 state to assess whether presidential candidates typically outperform or underperform relative to their congressional counterparts. I choose the top 15 because anything too large will cause the graph to be too cluttered. By aggregating votes at the state level, this analysis reveals trends over time and across states, examining whether Democratic or Republican presidential candidates tend to receive more votes than all congressional candidates of the same party. Observing changes across election cycles, it can indicate shifts in popularity for specific presidents or general party strength in particular states.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>read_shp_from_zip <span class="ot">&lt;-</span> <span class="cf">function</span>(zip_filename, <span class="at">extract_dir =</span> <span class="st">"extracted_shp"</span>) {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create directory for extraction if it doesn't already exist</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(extract_dir)) {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(extract_dir)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(extract_dir)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># List contents of the zip file to locate .shp and related files</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  zip_contents <span class="ot">&lt;-</span> <span class="fu">unzip</span>(zip_filename, <span class="at">list =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(zip_contents)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  shp_related_files <span class="ot">&lt;-</span> zip_contents<span class="sc">$</span>Name[<span class="fu">grepl</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.(shp|dbf|shx|prj)$"</span>, zip_contents<span class="sc">$</span>Name)]</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(shp_related_files)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract all necessary files to the specified directory</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unzip</span>(zip_filename, <span class="at">files =</span> shp_related_files, <span class="at">exdir =</span> extract_dir)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the .shp file path</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  shp_file <span class="ot">&lt;-</span> shp_related_files[<span class="fu">grepl</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.shp$"</span>, shp_related_files)]</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  shp_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(extract_dir, shp_file)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check if the .shp file exists before reading</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">file.exists</span>(shp_path)) {</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>    sf <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(shp_path)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Failed to locate the .shp file after extraction."</span>)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sf)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>us_sf <span class="ot">&lt;-</span> <span class="fu">read_shp_from_zip</span>(<span class="st">"data/shapefiles/districts106.zip"</span>, <span class="at">extract_dir =</span> <span class="st">"us_shapefiles"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "us_shapefiles"
                             Name   Length                Date
1 districtShapes/districts106.dbf   524150 2020-03-23 18:37:00
2 districtShapes/districts106.shp 34792868 2020-03-23 18:37:00
3 districtShapes/districts106.shx     3588 2020-03-23 18:37:00
4 districtShapes/districts106.prj      147 2020-03-23 18:37:00
[1] "districtShapes/districts106.dbf" "districtShapes/districts106.shp"
[3] "districtShapes/districts106.shx" "districtShapes/districts106.prj"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sf_use_s2</span>(<span class="cn">FALSE</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  us_sf <span class="ot">&lt;-</span> us_sf <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(STATENAME, geometry) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">STATENAME =</span> <span class="fu">tolower</span>(STATENAME)) <span class="sc">|&gt;</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(STATENAME <span class="sc">!=</span> <span class="st">'alaska'</span>, STATENAME <span class="sc">!=</span> <span class="st">'hawaii'</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry)) <span class="sc">|&gt;</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>ecv_map <span class="ot">&lt;-</span> <span class="fu">left_join</span>(us_sf, ecv_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'STATENAME'</span> <span class="ot">=</span> <span class="st">'state'</span>))</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ecv_map, <span class="fu">aes</span>(<span class="at">geometry =</span> geometry, <span class="at">label =</span> electoral_votes)) <span class="sc">+</span> </span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">subset</span>(ecv_map, candidate <span class="sc">==</span> <span class="st">'GORE, AL'</span>), <span class="at">fill =</span> <span class="st">'Sky Blue'</span>, <span class="at">color =</span> <span class="st">'white'</span>) <span class="sc">+</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">subset</span>(ecv_map, candidate <span class="sc">==</span> <span class="st">'BUSH, GEORGE W.'</span>), <span class="at">fill =</span> <span class="st">'Light Coral'</span>, <span class="at">color =</span> <span class="st">'white'</span>) <span class="sc">+</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_text</span>(<span class="at">color =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf::st_zm(x)): st_point_on_surface may not
give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_text()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A map is created showing electoral votes for the 2000 U.S. presidential election, with states colored based on electoral votes and labeled by candidate, highlighting the results for Al Gore and George W. Bush.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Faceted Chloropleth using gganimate</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for presidential data in the years 1988, 2000, and 2012</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="ot">&lt;-</span> president_data <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(office <span class="sc">==</span> <span class="st">"US PRESIDENT"</span>, year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1988</span>, <span class="dv">2000</span>, <span class="dv">2012</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the highest candidate votes for each party by state and year</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>highest_votes_per_party <span class="ot">&lt;-</span> filtered_data <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state, party_simplified) <span class="sc">|&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_votes =</span> <span class="fu">sum</span>(candidatevotes, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify the winning party for each state and year</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>state_winners_atlarge <span class="ot">&lt;-</span> highest_votes_per_party <span class="sc">|&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_votes <span class="sc">==</span> <span class="fu">max</span>(total_votes)) <span class="sc">|&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Create GT table</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>gt_table <span class="ot">&lt;-</span> state_winners_atlarge <span class="sc">|&gt;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, state) <span class="sc">|&gt;</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Winning Party by State in 1988, 2000, and 2012"</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Party with Highest Total Candidate Votes per State and Year"</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="st">"Year"</span>,</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">state =</span> <span class="st">"State"</span>,</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">party_simplified =</span> <span class="st">"Winning Party"</span>,</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes =</span> <span class="st">"Total Votes"</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">vars</span>(total_votes), <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(<span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>), <span class="at">locations =</span> <span class="fu">cells_column_labels</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.
• Please use `columns = c(...)` instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(gt_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;div id="dnbqayemjr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;"&gt;
  &lt;style&gt;#dnbqayemjr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dnbqayemjr thead, #dnbqayemjr tbody, #dnbqayemjr tfoot, #dnbqayemjr tr, #dnbqayemjr td, #dnbqayemjr th {
  border-style: none;
}

#dnbqayemjr p {
  margin: 0;
  padding: 0;
}

#dnbqayemjr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dnbqayemjr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dnbqayemjr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dnbqayemjr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dnbqayemjr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dnbqayemjr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dnbqayemjr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dnbqayemjr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dnbqayemjr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dnbqayemjr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dnbqayemjr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dnbqayemjr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dnbqayemjr .gt_spanner_row {
  border-bottom-style: hidden;
}

#dnbqayemjr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dnbqayemjr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dnbqayemjr .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#dnbqayemjr .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#dnbqayemjr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dnbqayemjr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dnbqayemjr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dnbqayemjr .gt_row_group_first td {
  border-top-width: 2px;
}

#dnbqayemjr .gt_row_group_first th {
  border-top-width: 2px;
}

#dnbqayemjr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dnbqayemjr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dnbqayemjr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dnbqayemjr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dnbqayemjr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dnbqayemjr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dnbqayemjr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dnbqayemjr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dnbqayemjr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dnbqayemjr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dnbqayemjr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dnbqayemjr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dnbqayemjr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dnbqayemjr .gt_left {
  text-align: left;
}

#dnbqayemjr .gt_center {
  text-align: center;
}

#dnbqayemjr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dnbqayemjr .gt_font_normal {
  font-weight: normal;
}

#dnbqayemjr .gt_font_bold {
  font-weight: bold;
}

#dnbqayemjr .gt_font_italic {
  font-style: italic;
}

#dnbqayemjr .gt_super {
  font-size: 65%;
}

#dnbqayemjr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dnbqayemjr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dnbqayemjr .gt_indent_1 {
  text-indent: 5px;
}

#dnbqayemjr .gt_indent_2 {
  text-indent: 10px;
}

#dnbqayemjr .gt_indent_3 {
  text-indent: 15px;
}

#dnbqayemjr .gt_indent_4 {
  text-indent: 20px;
}

#dnbqayemjr .gt_indent_5 {
  text-indent: 25px;
}

#dnbqayemjr .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dnbqayemjr div.Reactable &gt; div.rt-table &gt; div.rt-thead &gt; div.rt-tr.rt-tr-group-header &gt; div.rt-th-group:after {
  height: 0px !important;
}
&lt;/style&gt;
  &lt;table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"&gt;
  &lt;thead&gt;
    &lt;tr class="gt_heading"&gt;
      &lt;td colspan="4" class="gt_heading gt_title gt_font_normal" style&gt;Winning Party by State in 1988, 2000, and 2012&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class="gt_heading"&gt;
      &lt;td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style&gt;Party with Highest Total Candidate Votes per State and Year&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr class="gt_col_headings"&gt;
      &lt;th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="year"&gt;Year&lt;/th&gt;
      &lt;th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="state"&gt;State&lt;/th&gt;
      &lt;th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="party_simplified"&gt;Winning Party&lt;/th&gt;
      &lt;th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="total_votes"&gt;Total Votes&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class="gt_table_body"&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALABAMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;815,576&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;119,251&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARIZONA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;702,541&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARKANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;466,578&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CALIFORNIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;5,054,917&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;COLORADO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;728,177&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CONNECTICUT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;750,241&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DELAWARE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;139,639&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DISTRICT OF COLUMBIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;159,407&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;FLORIDA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,618,885&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;GEORGIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,081,331&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;HAWAII&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;192,364&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IDAHO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;253,881&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ILLINOIS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,310,939&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;INDIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,297,763&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IOWA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;670,557&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;554,049&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KENTUCKY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;734,281&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;LOUISIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;883,702&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MAINE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;307,131&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MARYLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;876,167&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MASSACHUSETTS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,401,415&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MICHIGAN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,965,486&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MINNESOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,109,471&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSISSIPPI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;557,890&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSOURI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,084,953&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MONTANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;190,412&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEBRASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;397,956&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEVADA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;206,040&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW HAMPSHIRE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;281,537&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW JERSEY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,743,192&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW MEXICO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;270,341&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW YORK&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;3,255,487&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,237,258&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;166,559&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OHIO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,416,549&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OKLAHOMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;678,367&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OREGON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;616,206&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;PENNSYLVANIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,300,087&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;RHODE ISLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;225,123&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;606,443&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;165,415&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TENNESSEE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;947,233&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TEXAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;3,036,829&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;UTAH&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;428,442&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VERMONT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;124,331&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,309,162&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WASHINGTON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;933,516&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WEST VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;341,016&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WISCONSIN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,126,794&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;1988&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WYOMING&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;106,867&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALABAMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;941,173&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;167,398&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARIZONA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;781,652&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARKANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;472,940&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CALIFORNIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;5,861,203&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;COLORADO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;883,748&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CONNECTICUT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;816,015&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DELAWARE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;180,068&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DISTRICT OF COLUMBIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;171,923&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;FLORIDA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,912,790&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;GEORGIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,419,720&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;HAWAII&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;205,286&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IDAHO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;336,937&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ILLINOIS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,589,026&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;INDIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,245,836&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IOWA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;638,517&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;622,332&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KENTUCKY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;872,520&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;LOUISIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;927,871&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MAINE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;319,951&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MARYLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,144,008&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MASSACHUSETTS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,616,487&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MICHIGAN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,170,418&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MINNESOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,168,266&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSISSIPPI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;572,844&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSOURI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,189,924&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MONTANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;240,178&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEBRASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;433,862&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEVADA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;301,575&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW HAMPSHIRE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;273,559&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW JERSEY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,788,850&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW MEXICO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;286,783&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW YORK&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;3,942,215&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,631,163&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;174,852&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OHIO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,350,363&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OKLAHOMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;744,337&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OREGON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;720,342&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;PENNSYLVANIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,485,967&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;RHODE ISLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;249,508&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;786,892&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;190,700&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TENNESSEE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,061,949&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TEXAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;3,799,639&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;UTAH&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;515,096&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VERMONT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;149,022&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,437,490&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WASHINGTON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,247,652&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WEST VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;336,475&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WISCONSIN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,242,987&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2000&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WYOMING&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;147,947&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALABAMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,255,925&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ALASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;164,676&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARIZONA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,233,654&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ARKANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;647,744&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CALIFORNIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;7,854,285&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;COLORADO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,323,101&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;CONNECTICUT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;905,083&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DELAWARE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;242,584&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;DISTRICT OF COLUMBIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;267,070&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;FLORIDA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;4,237,756&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;GEORGIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,078,688&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;HAWAII&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;306,658&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IDAHO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;420,911&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;ILLINOIS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;3,019,512&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;INDIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,420,543&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;IOWA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;822,544&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KANSAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;692,634&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;KENTUCKY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,087,190&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;LOUISIANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,152,262&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MAINE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;401,306&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MARYLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,677,844&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MASSACHUSETTS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,921,290&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MICHIGAN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,564,569&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MINNESOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,546,167&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSISSIPPI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;710,746&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MISSOURI&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,482,440&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;MONTANA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;267,928&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEBRASKA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;475,064&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEVADA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;531,373&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW HAMPSHIRE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;369,561&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW JERSEY&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,122,786&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW MEXICO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;415,335&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NEW YORK&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;4,324,228&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,270,395&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;NORTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;188,320&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OHIO&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,827,621&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OKLAHOMA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;891,325&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;OREGON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;970,488&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;PENNSYLVANIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;2,990,274&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;RHODE ISLAND&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;279,677&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH CAROLINA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,071,645&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;SOUTH DAKOTA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;210,610&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TENNESSEE&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,462,330&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;TEXAS&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;4,569,843&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;UTAH&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;740,600&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VERMONT&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;199,239&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,971,820&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WASHINGTON&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,755,396&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WEST VIRGINIA&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;417,655&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WISCONSIN&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;DEMOCRAT&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;1,620,985&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td headers="year" class="gt_row gt_right"&gt;2012&lt;/td&gt;
&lt;td headers="state" class="gt_row gt_left"&gt;WYOMING&lt;/td&gt;
&lt;td headers="party_simplified" class="gt_row gt_left"&gt;REPUBLICAN&lt;/td&gt;
&lt;td headers="total_votes" class="gt_row gt_right"&gt;170,962&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
  
  
&lt;/table&gt;
&lt;/div&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar chart for party count per year</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>party_count_per_year <span class="ot">&lt;-</span> state_winners_atlarge <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(year, party_simplified) <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, <span class="fu">desc</span>(n))</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(party_count_per_year, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(year), <span class="at">y =</span> n, <span class="at">fill =</span> party_simplified)) <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Party Count per Year in US Presidential Elections (1988, 2000, 2012)"</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of States"</span>,</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Party"</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"DEMOCRAT"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"REPUBLICAN"</span> <span class="ot">=</span> <span class="st">"red"</span>, <span class="st">"OTHER"</span> <span class="ot">=</span> <span class="st">"grey"</span>)) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The code filters U.S. presidential election data for the years 1988, 2000, and 2012, and identifies the winning party in each state for each of these years based on total candidate votes. A GT table is created to display the winning party by state. Additionally, a bar chart is generated showing the number of states won by each major party in each of the selected years, with colors representing the different parties. The results highlight the dominance of the major parties in these presidential elections.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create electoral college values based on shapefiles for 1988 and 2012</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>CD_100 <span class="ot">&lt;-</span> <span class="fu">read_shp_from_zip</span>(<span class="fu">file.path</span>(shapefile_dir, <span class="st">"districts106.zip"</span>), <span class="at">extract_dir =</span> <span class="st">"us_shapefiles"</span>)<span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">STATENAME =</span> <span class="fu">tolower</span>(STATENAME)) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">EC =</span> <span class="fu">n</span>() <span class="sc">+</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "us_shapefiles"
                             Name   Length                Date
1 districtShapes/districts106.dbf   524150 2020-03-23 18:37:00
2 districtShapes/districts106.shp 34792868 2020-03-23 18:37:00
3 districtShapes/districts106.shx     3588 2020-03-23 18:37:00
4 districtShapes/districts106.prj      147 2020-03-23 18:37:00
[1] "districtShapes/districts106.dbf" "districtShapes/districts106.shp"
[3] "districtShapes/districts106.shx" "districtShapes/districts106.prj"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Winning party for each state in 1988</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>vote_results_1988 <span class="ot">&lt;-</span> president_data <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1988</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">tolower</span>(state)) <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">winning_party =</span> party_simplified[<span class="fu">which.max</span>(candidatevotes)],</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes =</span> <span class="fu">max</span>(candidatevotes)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>state_abbreviations <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">tolower</span>(<span class="fu">c</span>(<span class="st">"alabama"</span>, <span class="st">"alaska"</span>, <span class="st">"arizona"</span>, <span class="st">"arkansas"</span>, <span class="st">"california"</span>, <span class="st">"colorado"</span>, <span class="st">"connecticut"</span>, <span class="st">"delaware"</span>, <span class="st">"florida"</span>, <span class="st">"georgia"</span>, <span class="st">"hawaii"</span>, <span class="st">"idaho"</span>, <span class="st">"illinois"</span>, <span class="st">"indiana"</span>, <span class="st">"iowa"</span>, <span class="st">"kansas"</span>, <span class="st">"kentucky"</span>, <span class="st">"louisiana"</span>, <span class="st">"maine"</span>, <span class="st">"maryland"</span>, <span class="st">"massachusetts"</span>, <span class="st">"michigan"</span>, <span class="st">"minnesota"</span>, <span class="st">"mississippi"</span>, <span class="st">"missouri"</span>, <span class="st">"montana"</span>, <span class="st">"nebraska"</span>, <span class="st">"nevada"</span>, <span class="st">"new hampshire"</span>, <span class="st">"new jersey"</span>, <span class="st">"new mexico"</span>, <span class="st">"new york"</span>, <span class="st">"north carolina"</span>, <span class="st">"north dakota"</span>, <span class="st">"ohio"</span>, <span class="st">"oklahoma"</span>, <span class="st">"oregon"</span>, <span class="st">"pennsylvania"</span>, <span class="st">"rhode island"</span>, <span class="st">"south carolina"</span>, <span class="st">"south dakota"</span>, <span class="st">"tennessee"</span>, <span class="st">"texas"</span>, <span class="st">"utah"</span>, <span class="st">"vermont"</span>, <span class="st">"virginia"</span>, <span class="st">"washington"</span>, <span class="st">"west virginia"</span>, <span class="st">"wisconsin"</span>, <span class="st">"wyoming"</span>, <span class="st">"district of columbia"</span>)),</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">abbreviation =</span> <span class="fu">c</span>(<span class="st">"AL"</span>, <span class="st">"AK"</span>, <span class="st">"AZ"</span>, <span class="st">"AR"</span>, <span class="st">"CA"</span>, <span class="st">"CO"</span>, <span class="st">"CT"</span>, <span class="st">"DE"</span>, <span class="st">"FL"</span>, <span class="st">"GA"</span>, <span class="st">"HI"</span>, <span class="st">"ID"</span>, <span class="st">"IL"</span>, <span class="st">"IN"</span>, <span class="st">"IA"</span>, <span class="st">"KS"</span>, <span class="st">"KY"</span>, <span class="st">"LA"</span>, <span class="st">"ME"</span>, <span class="st">"MD"</span>, <span class="st">"MA"</span>, <span class="st">"MI"</span>, <span class="st">"MN"</span>, <span class="st">"MS"</span>, <span class="st">"MO"</span>, <span class="st">"MT"</span>, <span class="st">"NE"</span>, <span class="st">"NV"</span>, <span class="st">"NH"</span>, <span class="st">"NJ"</span>, <span class="st">"NM"</span>, <span class="st">"NY"</span>, <span class="st">"NC"</span>, <span class="st">"ND"</span>, <span class="st">"OH"</span>, <span class="st">"OK"</span>, <span class="st">"OR"</span>, <span class="st">"PA"</span>, <span class="st">"RI"</span>, <span class="st">"SC"</span>, <span class="st">"SD"</span>, <span class="st">"TN"</span>, <span class="st">"TX"</span>, <span class="st">"UT"</span>, <span class="st">"VT"</span>, <span class="st">"VA"</span>, <span class="st">"WA"</span>, <span class="st">"WV"</span>, <span class="st">"WI"</span>, <span class="st">"WY"</span>, <span class="st">"DC"</span>)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine EC with winning party for 1988</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>EC_1988 <span class="ot">&lt;-</span> CD_100 <span class="sc">|&gt;</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(vote_results_1988, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATENAME"</span> <span class="ot">=</span> <span class="st">"state"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">winning_party =</span> <span class="fu">if_else</span>(STATENAME <span class="sc">==</span> <span class="st">"district of columbia"</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(winning_party), <span class="st">"DEMOCRAT"</span>, winning_party)) <span class="sc">|&gt;</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STATENAME, winning_party, EC) <span class="sc">|&gt;</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state =</span> STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(state_abbreviations, <span class="at">by =</span> <span class="st">"state"</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Abbreviation =</span> abbreviation)</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Repeat for 2012</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>CD_112 <span class="ot">&lt;-</span> <span class="fu">read_shp_from_zip</span>(<span class="fu">file.path</span>(shapefile_dir, <span class="st">"districts112.zip"</span>), <span class="at">extract_dir =</span> <span class="st">"us_shapefiles"</span>)<span class="sc">|&gt;</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">STATENAME =</span> <span class="fu">tolower</span>(STATENAME)) <span class="sc">|&gt;</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">EC =</span> <span class="fu">n</span>() <span class="sc">+</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "us_shapefiles"
                             Name   Length                Date
1 districtShapes/districts112.dbf   524150 2020-03-08 19:18:00
2 districtShapes/districts112.shp 33478528 2020-03-08 19:18:00
3 districtShapes/districts112.shx     3588 2020-03-08 19:18:00
4 districtShapes/districts112.prj      147 2020-03-08 19:18:00
[1] "districtShapes/districts112.dbf" "districtShapes/districts112.shp"
[3] "districtShapes/districts112.shx" "districtShapes/districts112.prj"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>vote_results_2012 <span class="ot">&lt;-</span> president_data <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2012</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">tolower</span>(state)) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">winning_party =</span> party_simplified[<span class="fu">which.max</span>(candidatevotes)],</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_votes =</span> <span class="fu">max</span>(candidatevotes)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>EC_2012 <span class="ot">&lt;-</span> CD_112 <span class="sc">|&gt;</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(vote_results_2012, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"STATENAME"</span> <span class="ot">=</span> <span class="st">"state"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">winning_party =</span> <span class="fu">if_else</span>(STATENAME <span class="sc">==</span> <span class="st">"district of columbia"</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(winning_party), <span class="st">"DEMOCRAT"</span>, winning_party)) <span class="sc">|&gt;</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(STATENAME, winning_party, EC) <span class="sc">|&gt;</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state =</span> STATENAME) <span class="sc">|&gt;</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(state_abbreviations, <span class="at">by =</span> <span class="st">"state"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, using shapefiles to calculate the number of electoral votes (EC) for each state based on congressional districts. It reads in shapefiles for each election year, counts the districts per state, and adds 2 for the two Senate seats, resulting in the total EC for each state. The code then determines the winning party for each state in 1988 and 2012 by filtering the presidential vote data, identifying the party with the most votes in each state.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/victor-louie\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>